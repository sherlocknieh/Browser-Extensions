<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>右键增强 - 设置</title>
    <link rel="stylesheet" href="options.css">
</head>
<body>
    <div class="container">
        <h1>设置</h1>
        
        <div class="section">
            <h2>一键搜图设置</h2>
            <div class="form-group">
                <label>
                    <input type="checkbox" id="useSimpleMenu"> 
                    使用简化菜单模式
                </label>
                <div class="help-text">启用后，"以图搜图"将直接启动一键搜图，不显示子菜单</div>
            </div>
            
            <div class="form-group">
                <label for="maxBatchTabs">最大同时打开标签页数:</label>
                <input type="number" id="maxBatchTabs" min="1" max="20" value="10">
                <div class="help-text">限制一键搜图时同时打开的标签页数量，避免卡顿</div>
            </div>
            
            <div class="form-group">
                <label for="batchSearchDelay">标签页打开间隔 (毫秒):</label>
                <input type="number" id="batchSearchDelay" min="100" max="2000" value="500" step="100">
                <div class="help-text">每个搜图标签页的打开间隔，减少浏览器负担</div>
            </div>
        </div>

        <div class="section">
            <h2>配置管理</h2>
            <div class="config-actions">
                <button id="exportConfigBtn" class="config-btn">📤 导出配置</button>
                <label for="importConfigFile" class="config-btn import-btn">📥 导入配置
                    <input type="file" id="importConfigFile" accept=".json" style="display: none;">
                </label>
                <button id="resetConfigBtn" class="config-btn danger-btn">🔄 重置为默认</button>
            </div>
            <div class="help-text">导出：保存所有引擎和设置到文件 | 导入：从文件恢复配置 | 重置：恢复默认引擎</div>
        </div>

        <div class="section">
            <h2>搜图引擎管理</h2>
            <div id="enginesList">
                <!-- 动态加载的搜图引擎列表 -->
            </div>
            <div class="form-group">
                <label for="engineName">引擎名称:</label>
                <input type="text" id="engineName" placeholder="例如: 百度识图">
            </div>
            <div class="form-group">
                <label for="engineUrl">搜图链接:</label>
                <input type="url" id="engineUrl" placeholder="例如: https://graph.baidu.com/details?isfromtusoupc=1&tn=pc&carousel=0&promotion_name=pc_image_shitu&extUiData%5bisLogoShow%5d=1&image=%s">
                <div class="help-text">使用 %s 作为图片URL的占位符</div>
            </div>
            <div class="form-group">
                <label for="engineIcon">图标 (可选):</label>
                <input type="text" id="engineIcon" placeholder="例如: 🔍" maxlength="2">
                <div class="help-text">单个emoji字符，用于菜单显示</div>
            </div>
            <button id="addEngineBtn">添加搜图引擎</button>
            <button id="cancelEditBtn" style="display:none;">取消编辑</button>
        </div>

        <div id="status"></div>
    </div>

    <script src="options.js"></script>
</body>
</html>
